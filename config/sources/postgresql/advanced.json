{
   "datasources":
   [
      {
         "id": "LocationWithCountry",
         "object": "locations",

         "sorting": "loc_id",
         "primary-key": "loc_id",

         "page-size": 36,

         "columns":
         [
            {
               "name": "loc_id",
               "type": "numeric",
               "precision": [6,0]
            }
            ,
            {
               "name": "street",
               "type": "vachar",
               "precision": [20,0]
            }
         ],

         "query":
         {
            "sql":
            [
               "select l.*, c.country_name",
               "from locations l, countries c",
               "where l.country_id = c.country_id"
            ]
         },

         "vpd":
         {
            "where-clause": "country_id = :COUNTRY",
            "datatypes":
            [
              {"name": "COUNTRY", "type": "string"}
            ],
            "apply": ["update","delete"]
         },

         "derived": "country_name",

         "custom-filters":
			[
            {
               "name": "country_name",
               "where-clause": [
                  "country_id in",
                  "(",
                  "  select country_id from countries",
                  "  where &column like :value",
                  ")"
               ]
            }
         ],

         "insert": "allowed",
         "update": "by-primary-key",
         "delete": "by-primary-key",
         "select": "allowed"
      }
   ]
}