   {
      "type": "object",
      "$id": "Table.json",
      "$schema": "https://json-schema.org/draft/2020-12/schema",

      "description": "Table object that handles select, insert, update and delete",
      "additionalProperties": false,

      "properties":
      {
         "Table":
         {
            "type": "object",
            "additionalProperties": false,
            "required": ["session","source","invoke"],

            "description": "The source object (table,view or query)",

            "properties":
            {
               "source":
               {
                  "type": "string",
                  "description": "The source object (table,view or query)"
               }
               ,
               "session":
               {
                  "type": "string",
                  "description": "Valid session id"
               }
               ,
               "invoke":
               {
                  "type": "string",
                  "description": "Method to invoke",
                  "enum": ["select()", "insert()", "update()", "delete()"]
               }
               ,
               "bindvalues":
               {
                  "type": "array",
                  "items": {"$ref": "#/types/BindValue"}
               }
               ,
               "insert()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "columns":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "returning":
                     {
                        "type": "array",
                        "items": {"type": "string"}
                     }
                  }
               }
               ,
               "update()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "columns":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "lock":
                     {
                        "type": "boolean"
                     }
                     ,
                     "assertions":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "returning":
                     {
                        "type": "array",
                        "items": {"type": "string"}
                     }
                     ,
                     "filters":
                     {
                        "$ref": "#/types/FilterGroup"
                     }
                  }
               }
               ,
               "delete()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "lock":
                     {
                        "type": "boolean"
                     }
                     ,
                     "assertions":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "returning":
                     {
                        "type": "array",
                        "items": {"type": "string"}
                     }
                     ,
                     "filters":
                     {
                        "$ref": "#/types/FilterGroup"
                     }
                  }
               }
               ,
               "select()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "columns":
                     {
                        "type": "array",
                        "items": {"type": "string"}
                     }
                     ,
                     "lock":
                     {
                        "type": "boolean"
                     }
                     ,
                     "assertions":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "filters":
                     {
                        "$ref": "#/types/FilterGroup"
                     }
                  }
               }
            }
         }
      }
      ,
      "types":
      {
         "BindValue":
         {
            "type": "object",
            "required": ["name","type"],
            "additionalProperties": false,

            "properties":
            {
               "name": {"type": "string"},
               "type": {"type": "string"},
               "value": {"type": ["string","number","integer","boolean"]}
            }
         }
         ,
         "NameValuePair":
         {
            "type": "object",
            "required": ["name","value"],
            "additionalProperties": false,

            "properties":
            {
               "name": {"type": "string"},
               "value": {"type": ["string","number","integer","boolean"]}
            }
         }
         ,
         "FilterGroup":
         {
            "type": "array",
            "additionalProperties": false,
            "description": "List of filters, without limit",

            "items":
            {
               "anyOf":
               [
                  {"$ref": "#/types/Filter"},
                  {"$ref": "#/types/FilterList"}
               ]
            }
         }
         ,
         "FilterList":
         {
            "type": "object",
            "additionalProperties": false,
            "description": "List of filters, with limit",

            "properties":
            {
               "or":
               {
                  "anyOf":
                  [
                     {"$ref": "#/types/Filter"},
                     {"$ref": "#/types/FilterGroup"}
                  ]
               }
               ,
               "and":
               {
                  "anyOf":
                  [
                     {"$ref": "#/types/Filter"},
                     {"$ref": "#/types/FilterGroup"}
                  ]
               }
            }
         }
         ,
         "Filter":
         {
            "type": "object",
            "additionalProperties": true,

            "properties":
            {
               "filter"  : {"type": "string"},
               "column"  : {"type": "string"},
               "columns" : {"type": "array", "items": {"type": "string"}},
               "value"   : {"type": ["string","number","integer","boolean"]}
            }
            ,
            "oneOf":
            [
               {"required": ["filter","column","value"]},
               {"required": ["filter","columns","value"]}
            ]
         }
      }
   }