   {
      "type": "object",
      "$id": "Table.json",
      "$schema": "https://json-schema.org/draft/2020-12/schema",

      "description": "Table object that handles select, insert, update and delete",
      "additionalProperties": false,

      "properties":
      {
         "Table":
         {
            "type": "object",
            "additionalProperties": false,

            "anyOf":
            [
               {"required": ["session","source","invoke","insert()"]},
               {"required": ["session","source","invoke","update()"]},
               {"required": ["session","source","invoke","delete()"]},
               {"required": ["session","source","invoke","select()"]}
            ],

            "description": "The source object (table,view or query)",

            "properties":
            {
               "source":
               {
                  "type": "string",
                  "description": "The source object (table,view or query)"
               }
               ,
               "session":
               {
                  "type": "string",
                  "description": "Valid session id"
               }
               ,
               "invoke":
               {
                  "$ref": "#/types/Method",
                  "description": "Method to invoke"
               }
               ,
               "bindvalues":
               {
                  "type": "array",
                  "items": {"$ref": "#/types/NameValuePair"}
               }
               ,
               "describe()":
               {
                  "additionalProperties": false
               }
               ,
               "insert()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "columns":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "savepoint":
                     {
                        "type": "boolean",
                        "description": "Use savepoint"
                     }
                     ,
                     "returning":
                     {
                        "type": "array",
                        "items": {"type": "string"}
                     }
                  }
               }
               ,
               "update()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "columns":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "assertions":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "savepoint":
                     {
                        "type": "boolean",
                        "description": "Use savepoint"
                     }
                     ,
                     "returning":
                     {
                        "type": "array",
                        "items": {"type": "string"}
                     }
                     ,
                     "filters":
                     {
                        "$ref": "#/types/FilterGroup",
                        "description": "The where-clause"
                     }
                  }
               }
               ,
               "delete()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "assertions":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "savepoint":
                     {
                        "type": "boolean"
                     }
                     ,
                     "returning":
                     {
                        "type": "array",
                        "items": {"type": "string"}
                     }
                     ,
                     "filters":
                     {
                        "$ref": "#/types/FilterGroup",
                        "description": "The where-clause"
                     }
                  }
               }
               ,
               "select()":
               {
                  "additionalProperties": false,
                  "required": ["columns"],

                  "properties":
                  {
                     "columns":
                     {
                        "anyOf":
                        [
                           {"type": "string"},
                           {"type": "array", "items": {"type": "string"}}
                        ]
                     }
                     ,
                     "for-update":
                     {
                        "type": "boolean",
                        "description": "Lock rows (select for update)"
                     }
                     ,
                     "assertions":
                     {
                        "type": "array",
                        "items": {"$ref": "#/types/NameValuePair"}
                     }
                     ,
                     "cursor":
                     {
                        "type": "boolean",
                        "description": "Keep cursor for subsequent fetch"
                     }
                     ,
                     "page-size":
                     {
                        "type": "number",
                        "description": "The number of rows to fetch per call aka. array-fetch"
                     }
                     ,
                     "savepoint":
                     {
                        "type": "boolean",
                        "description": "Use savepoint"
                     }
                     ,
                     "order":
                     {
                        "type": "string",
                        "description": "The 'order by' clause"
                     }
                     ,
                     "filters":
                     {
                        "$ref": "#/types/FilterGroup",
                        "description": "The where-clause"
                     }
                  }
               }
            }
         }
      }
      ,
      "types":
      {
         "NameValuePair":
         {
            "type": "object",
            "required": ["name","value"],
            "additionalProperties": false,

            "properties":
            {
               "name": {"type": "string"},
               "value": {"type": ["string","number","integer","boolean"]}
            }
         }
         ,
         "FilterGroup":
         {
            "type": "array",
            "additionalProperties": false,
            "description": "List of filters",

            "items":
            {
               "anyOf":
               [
                  {"$ref": "#/types/Filter"},
                  {"$ref": "#/types/FilterList"}
               ]
            }
         }
         ,
         "FilterList":
         {
            "type": "object",
            "additionalProperties": false,
            "description": "List of filters, using 'and' or 'or'",

            "properties":
            {
               "or":
               {
                  "anyOf":
                  [
                     {"$ref": "#/types/Filter"},
                     {"$ref": "#/types/FilterGroup"}
                  ]
               }
               ,
               "and":
               {
                  "anyOf":
                  [
                     {"$ref": "#/types/Filter"},
                     {"$ref": "#/types/FilterGroup"}
                  ]
               }
            }
         }
         ,
         "Filter":
         {
            "type": "object",
            "additionalProperties": true,

            "properties":
            {
               "filter"  : {"type": "string"},
               "column"  : {"type": "string"},
               "columns" : {"type": "array", "items": {"type": "string"}},
               "value"   : {"type": ["string","number","integer","boolean"]}
            }
            ,
            "oneOf":
            [
               {"required": ["filter","column","value"]},
               {"required": ["filter","columns","value"]}
            ]
         }
         ,
         "Method":
         {
            "type": "string",
            "enum": ["describe()","select()", "insert()", "update()", "delete()"]
         }
      }
   }